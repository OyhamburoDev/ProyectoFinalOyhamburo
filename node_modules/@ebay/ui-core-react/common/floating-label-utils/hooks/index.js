"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react"),p=require("classnames"),r="floating-label__label",v=["rgb(245, 245, 245)","rgb(247, 247, 247)"],w=t=>t&&!v.includes(getComputedStyle(t).backgroundColor),g=t=>{var n;return((n=t==null?void 0:t.value)==null?void 0:n.length)>0},x=t=>(t==null?void 0:t.tagName)==="SELECT",f=(t,n)=>{if(x(t)&&!g(t.querySelector("option"))){t.style["min-width"]="";const l=t.offsetWidth;t.querySelector("option").text=n,!n&&l>t.offsetWidth&&(t.style["min-width"]=`${l}px`)}},O=t=>x(t)?t.querySelector("option").text:t==null?void 0:t.placeholder;function j({ref:t,inputId:n,className:l,disabled:N,label:c,inputSize:m,inputValue:d,placeholder:b,invalid:q,opaqueLabel:R,type:$,onMount:B=()=>{}}){const L=o.useRef(null),a=()=>t||L,[F,u]=o.useState(!!d),[k,h]=o.useState(!1),[i,C]=o.useState(!1),S=o.useRef(""),P=()=>{var e;h(!0),u(g((e=a())==null?void 0:e.current)),C(!1),f(a().current,"")},A=()=>{var e;h(!0),u(!0),C(!0),f((e=a())==null?void 0:e.current,S.current)};o.useEffect(()=>{var e,s;c&&(S.current=O((e=a())==null?void 0:e.current),f((s=a())==null?void 0:s.current,""),B())},[]),o.useEffect(()=>{var e,s,y;c&&u(i||g((e=a())==null?void 0:e.current)||w((y=(s=a())==null?void 0:s.current)==null?void 0:y.parentNode))},[i,d]);const T=p(l,r,{[`${r}--disabled`]:N,[`${r}--animate`]:k,[`${r}--inline`]:!F&&$!=="date",[`${r}--focus`]:i,[`${r}--invalid`]:q}),E=p("floating-label",{"floating-label--large":m==="large","floating-label--opaque":R}),W=o.useCallback(({children:e})=>o.createElement(o.Fragment,null,e),[]),_=o.useCallback(({children:e})=>o.createElement("span",{className:E},e),[E]);return c?{label:o.createElement("label",{htmlFor:n,className:T},c),Container:_,onBlur:P,onFocus:A,ref:a(),placeholder:F?b:null}:{label:null,Container:W,onBlur:()=>{},onFocus:()=>{},ref:a(),placeholder:b}}exports.useFloatingLabel=j;
