"use strict";const t=require("react"),ue=require("classnames"),xe=require("./common/component-utils/forwardRef/index.js"),p=require("./common/component-utils/utils/index.js"),v=require("./icon-TuxfQndO.js"),be=require("./icon-button-Cwaj-eT9.js"),de=require("./common/floating-label-utils/hooks/index.js"),P=({name:n,buttonAriaLabel:a,onClick:c=()=>{},...r})=>a?t.createElement(be.EbayIconButton,{"aria-label":a,icon:n,transparent:!0,onClick:c,...r}):t.createElement(v.EbayIcon,{name:n,...r}),w=n=>t.createElement("span",{...n}),B=({name:n,...a})=>t.createElement(v.EbayIcon,{name:n,...a}),_=n=>t.createElement("span",{...n}),m=n=>typeof n<"u",pe=({type:n="text",invalid:a,fluid:c,multiline:r,onChange:q=()=>{},onInputChange:F=()=>{},onFocus:N=()=>{},onBlur:K=()=>{},onKeyPress:k=()=>{},onKeyUp:U=()=>{},onKeyDown:L=()=>{},onInvalid:R=()=>{},onFloatingLabelInit:D=()=>{},onButtonClick:j=()=>{},autoFocus:E,defaultValue:f="",value:i,forwardedRef:M,inputSize:y="default",floatingLabel:O,children:u,placeholder:S,opaqueLabel:V,...s})=>{var T,h;const[I,W]=t.useState(f),[g,$]=t.useState(f),{label:G,Container:H,onBlur:J,onFocus:Q,ref:X,placeholder:Y}=de.useFloatingLabel({ref:M,inputId:s.id,className:s.className,disabled:s.disabled,label:O,inputSize:y,inputValue:i||g,placeholder:S,invalid:a,type:n,opaqueLabel:V,onMount:D}),C=e=>{var o;N(e,{value:((o=e==null?void 0:e.target)==null?void 0:o.value)||f}),Q()},Z=e=>{var l;const o=(l=e.target)==null?void 0:l.value;K(e,{value:o}),o!==I&&(q(e,{value:o}),W(o)),J()},z=e=>{const o=e.target;k(e,{value:o==null?void 0:o.value})},A=e=>{const o=e.target;U(e,{value:o==null?void 0:o.value})},ee=e=>{const o=e.target;L(e,{value:o==null?void 0:o.value})},oe=e=>{const o=e.target;R(e,{value:o==null?void 0:o.value})},ne=e=>{j(e,{value:I})};t.useEffect(()=>{E&&C()},[]);const te=e=>{var l;const o=(l=e.target)==null?void 0:l.value;m(i)||$(o),F(e,{value:o})},ae=r?"textarea":"input",se=c?"div":"span",le=p.findComponent(u,B),x=p.findComponent(u,_),ce=(T=x==null?void 0:x.props)==null?void 0:T.id,b=p.findComponent(u,P),d=p.findComponent(u,w),re=(h=d==null?void 0:d.props)==null?void 0:h.id,ie=ue("textbox",s.className,{"textbox--fluid":c,"textbox--large":y==="large","textbox--disabled":s.disabled,"textbox--invalid":a,"textbox--readonly":s.readOnly});return t.createElement(H,null,G,t.createElement(se,{className:ie},le,x,t.createElement(ae,{"aria-describedby":[ce,re].filter(Boolean).join(" ")||void 0,...s,className:"textbox__control",type:n,"aria-invalid":a,value:m(i)?i:g,onChange:te,onBlur:Z,onFocus:C,onKeyPress:z,onKeyUp:A,onKeyDown:ee,onInvalid:oe,autoFocus:E,ref:X,placeholder:Y}),d,b&&t.cloneElement(b,{...b.props,onClick:e=>{const{onClick:o=()=>{}}=b.props;o(e),ne(e)}})))},fe=xe.withForwardRef(pe);exports.EbayTextbox=fe;exports.EbayTextboxPostfixIcon=P;exports.EbayTextboxPostfixText=w;exports.EbayTextboxPrefixIcon=B;exports.EbayTextboxPrefixText=_;exports.isControlled=m;
