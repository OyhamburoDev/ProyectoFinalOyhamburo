"use strict";const o=require("react"),E=require("classnames"),f=require("./ebay-dialog-base/components/dialog-header/index.js"),H=require("./dialog-previous-button-CpuFLkQp.js");require("./icon-button-Cwaj-eT9.js");const T=30,t="drawer-dialog",$=({expanded:i=!1,noHandle:_,onClose:l=()=>{},onCollapsed:p=()=>{},onExpanded:y=()=>{},a11yMaximizeText:D,a11yMinimizeText:S,children:b,...d})=>{let a=[];const[c,w]=o.useState(i);o.useEffect(()=>{w(i)},[i]);const r=e=>{w(e),e?y():p()},x=e=>{a=Array.from(e.changedTouches).map(({identifier:s,pageY:n})=>({identifier:s,pageY:n}))},u=e=>{Array.from(e.changedTouches).forEach(({identifier:s})=>{const n=a.findIndex(h=>h.identifier===s);n>-1&&a.splice(n,1)})},C=e=>{a.length&&Array.from(e.changedTouches).forEach(({identifier:s,pageY:n})=>{const h=a.findIndex(B=>B.identifier===s),g=n-a[h].pageY;g>T?(c?r(!1):l(),u(e)):g<-T&&(r(!0),u(e))})},k=_?null:o.createElement("button",{"aria-label":c?S:D,className:`${t}__handle`,onClick:()=>r(!c),onScroll:()=>r(!0),onTouchStart:x,onTouchMove:C,onTouchEnd:u,type:"button"}),m=o.Children.toArray(b),q=m.find(({type:e})=>e===f),A=m.filter(({type:e})=>e!==f);return o.createElement(H.DialogBaseWithState,{...d,classPrefix:t,onCloseBtnClick:l,className:E(d.className,`${t}--mask-fade-slow`),windowClass:E(d.windowClass,`${t}__window`,`${t}__window--slide`,{[`${t}__window--expanded`]:c}),onBackgroundClick:l,top:k},q||o.createElement(f,null),A)};exports.EbayDrawerDialog=$;
