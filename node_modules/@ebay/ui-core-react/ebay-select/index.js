"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react"),L=require("classnames"),R=require("../icon-TuxfQndO.js"),U=require("../common/component-utils/forwardRef/index.js"),j=require("../common/component-utils/utils/index.js"),x=require("../common/floating-label-utils/hooks/index.js"),d=({children:e,...t})=>n.createElement("option",{...t},e),v=e=>typeof e<"u",P=({value:e,defaultValue:t,className:s,borderless:o,name:p,disabled:r,onChange:a=()=>{},onBlur:h=()=>{},onFocus:m=()=>{},floatingLabel:f,forwardedRef:b,children:y,inputSize:l,invalid:E,...u})=>{const c=E||u["aria-invalid"]==="true",[F,w]=n.useState(t),{label:C,Container:G,onBlur:S,onFocus:N,ref:O}=x.useFloatingLabel({ref:b,inputId:u.id,className:s,disabled:r,label:f,inputValue:e,inputSize:l,invalid:c}),q=i=>{const{value:g,selectedIndex:I}=i.target;v(e)||w(g),a(i,{index:I,selected:[g]})},_=i=>{h(i),S()},B=i=>{m(i),N()},k=L("select",s,{"select--borderless":o,"select--large":l==="large"});return n.createElement(G,null,C,n.createElement("span",{className:k},n.createElement("select",{...u,name:p,value:v(e)?e:F,disabled:r,onChange:q,onBlur:_,onFocus:B,ref:O},M(y)),n.createElement(R.EbayIcon,{name:"chevronDown12",height:"8",width:"8"})))},T=U.withForwardRef(P);function D(e){const t={};return e.forEach(s=>{const o=s.props;o.optgroup&&(Object.prototype.hasOwnProperty.call(t,o.optgroup)||(t[o.optgroup]=[]),t[o.optgroup].push(o))}),t}function M(e){const t=[],s=[];let o={},p=!1;const r=j.filterByType(e,d).map(a=>n.cloneElement(a,{}));if(r){o=D(r);let a;return r.forEach((h,m)=>{const{value:f,optionClassName:b,children:y,optgroup:l}=h.props;if(p=l&&t.indexOf(l)===-1,p){a=l;const u=o[a].map(c=>n.createElement(d,{key:`opt-${c.value}`,value:c.value,className:c.optionClassName},c.children));s.push(n.createElement("optgroup",{key:m,label:l},u)),t.push(l)}else l||s.push(n.createElement(d,{key:m,value:f,className:b},y))}),s}}exports.EbaySelect=T;exports.EbaySelectOption=d;
